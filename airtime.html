<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Buy Airtime</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
    body{ margin:0; background:#000; font-family: Arial, sans-serif; color:white; }
    .header{ background:#ffcc00; color:black; display:flex; align-items:center; padding:15px; font-size:20px; font-weight:bold; }
    .header i{ margin-right: 15px; cursor: pointer; }
    .container{ padding:20px; }
    .step-card{ background:#111; border-radius:15px; padding:20px; margin-bottom: 20px; }
    
    input{ width:100%; padding:15px; border-radius:10px; border:none; background:#222; color:#fff; font-size:16px; margin-bottom: 15px; box-sizing: border-box; }
    .btn{ width:100%; padding:15px; border-radius:10px; border:none; background:#ffcc00; color:#000; font-weight:bold; cursor:pointer; font-size:16px; }

    /* Network Grid */
    .network-grid { display: none; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 10px; }
    .network-item { background:#222; border-radius:12px; padding:15px; text-align:center; cursor:pointer; border: 2px solid transparent; transition: 0.3s; }
    .network-item:hover { border-color: #ffcc00; }
    .network-item img { width: 50px; height: 50px; border-radius: 50%; object-fit: cover; margin-bottom: 8px; }
    .network-item p { margin: 0; font-size: 14px; font-weight: bold; }

    /* Amount Section */
    #amountSection { display: none; margin-top: 20px; }
    .amount-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 15px; }
    .amt-btn { background:#222; border: 1px solid #444; color: white; padding: 10px; border-radius: 8px; cursor: pointer; }
    .amt-btn:active { background: #ffcc00; color: #000; }
</style>
</head>
<body>

<div class="header">
    <i class="fas fa-arrow-left" onclick="history.back()"></i>
    Buy Airtime
</div>

<div class="container">
    <div class="step-card" id="phoneStep">
        <p>Enter Phone Number</p>
        <input type="number" id="phoneNum" placeholder="081 2345 6789" oninput="checkPhone()">
        <button class="btn" id="connectBtn" disabled onclick="showNetworks()">CONNECT</button>
    </div>

    <div id="networkSection">
        <p id="netLabel" style="display:none; text-align:center;">Select Network Provider</p>
        <div class="network-grid" id="netGrid">
            <div class="network-item" onclick="selectNet('MTN')">
                <img src="images/mtn.png" alt="MTN">
                <p>MTN</p>
            </div>
            <div class="network-item" onclick="selectNet('Airtel')">
                <img src="images/airtel.png" alt="Airtel">
                <p>Airtel</p>
            </div>
            <div class="network-item" onclick="selectNet('Glo')">
                <img src="images/glo.jpeg" alt="Glo">
                <p>Glo</p>
            </div>
            <div class="network-item" onclick="selectNet('9Mobile')">
                <img src="images/9mobile.jpeg" alt="9Mobile">
                <p>9Mobile</p>
            </div>
        </div>
    </div>

    <div class="step-card" id="amountSection">
        <p id="selectedDetails" style="color:#ffcc00; font-weight:bold;"></p>
        <div class="amount-grid">
            <button class="amt-btn" onclick="setAmt(500)">₦500</button>
            <button class="amt-btn" onclick="setAmt(1000)">₦1000</button>
            <button class="amt-btn" onclick="setAmt(2000)">₦2000</button>
            <button class="amt-btn" onclick="setAmt(5000)">₦5000</button>
            <button class="amt-btn" onclick="setAmt(10000)">₦10000</button>
            <button class="amt-btn" onclick="setAmt(20000)">₦20000</button>
        </div>
        <input type="number" id="customAmt" placeholder="Enter Amount Manually">
        <button class="btn" onclick="buyNow()" style="background:#00ff00;">BUY NOW</button>
    </div>
</div>

<script>
    let selectedNetwork = "";

    function checkPhone() {
        let phone = document.getElementById('phoneNum').value;
        let btn = document.getElementById('connectBtn');
        // Enable button only if phone is 10 or 11 digits
        if(phone.length >= 10) {
            btn.disabled = false;
        } else {
            btn.disabled = true;
        }
    }

    function showNetworks() {
        document.getElementById('netLabel').style.display = 'block';
        document.getElementById('netGrid').style.display = 'grid';
        document.getElementById('connectBtn').style.display = 'none';
        window.scrollTo(0, document.body.scrollHeight);
    }

    function selectNet(net) {
        selectedNetwork = net;
        let phone = document.getElementById('phoneNum').value;
        document.getElementById('selectedDetails').innerText = net + " | " + phone;
        document.getElementById('netGrid').style.display = 'none';
        document.getElementById('netLabel').style.display = 'none';
        document.getElementById('amountSection').style.display = 'block';
    }

    function setAmt(val) {
        document.getElementById('customAmt').value = val;
    }

    function buyNow() {
        let amt = document.getElementById('customAmt').value;
        if(amt == "" || amt < 100) {
            alert("Please enter a valid amount (Min ₦100)");
        } else {
            // Take them to payment.html
            window.location.href = 'payment.html';
        }
    }
</script>

</body>
</html>
